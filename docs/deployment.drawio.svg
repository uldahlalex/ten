<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1201px" height="841px" viewBox="-0.5 -0.5 1201 841" content="&lt;mxfile host=&quot;app.diagrams.net&quot;&gt;&lt;diagram id=&quot;deployment-architecture&quot; name=&quot;Page-1&quot;&gt;&lt;mxGraphModel dx=&quot;1422&quot; dy=&quot;754&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1200&quot; pageHeight=&quot;800&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;mxCell id=&quot;title&quot; value=&quot;Deployment Architecture - Full Stack React + .NET App&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;fontStyle=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;400&quot; y=&quot;10&quot; width=&quot;400&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;dev-container&quot; value=&quot;🛠️ Development Environment&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontStyle=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;40&quot; y=&quot;60&quot; width=&quot;300&quot; height=&quot;120&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;react-dev&quot; value=&quot;React Dev Server&lt;br&gt;npm run dev&lt;br&gt;localhost:5173&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;&quot; vertex=&quot;1&quot; parent=&quot;dev-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;40&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;dotnet-dev&quot; value=&quot;.NET Dev Server&lt;br&gt;dotnet run&lt;br&gt;Can serve both API + static files&lt;br&gt;localhost:5000&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;&quot; vertex=&quot;1&quot; parent=&quot;dev-container&quot;&gt;&lt;mxGeometry x=&quot;160&quot; y=&quot;40&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;source-container&quot; value=&quot;📁 Source Code&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;fontStyle=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;40&quot; y=&quot;220&quot; width=&quot;300&quot; height=&quot;120&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;client-src&quot; value=&quot;Client Code&lt;br&gt;Vite application&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;&quot; vertex=&quot;1&quot; parent=&quot;source-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;40&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;server-src&quot; value=&quot;Server Code&lt;br&gt;.NET 9 API&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;&quot; vertex=&quot;1&quot; parent=&quot;source-container&quot;&gt;&lt;mxGeometry x=&quot;160&quot; y=&quot;40&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;build-container&quot; value=&quot;🏗️ Docker Build Process&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontStyle=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;380&quot; y=&quot;220&quot; width=&quot;400&quot; height=&quot;280&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;stage1-container&quot; value=&quot;Stage 1: Client Build&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;&quot; vertex=&quot;1&quot; parent=&quot;build-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;40&quot; width=&quot;160&quot; height=&quot;100&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;node-build&quot; value=&quot;Node.js Alpine&lt;br&gt;npm ci&lt;br&gt;npm run build&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;&quot; vertex=&quot;1&quot; parent=&quot;stage1-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;30&quot; width=&quot;120&quot; height=&quot;50&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;stage2-container&quot; value=&quot;Stage 2: Server Build&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;&quot; vertex=&quot;1&quot; parent=&quot;build-container&quot;&gt;&lt;mxGeometry x=&quot;200&quot; y=&quot;40&quot; width=&quot;160&quot; height=&quot;100&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;dotnet-build&quot; value=&quot;.NET SDK Alpine&lt;br&gt;dotnet publish&lt;br&gt;Single-file executable&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;&quot; vertex=&quot;1&quot; parent=&quot;stage2-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;30&quot; width=&quot;120&quot; height=&quot;50&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;stage3-container&quot; value=&quot;Stage 3: Runtime Image&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;&quot; vertex=&quot;1&quot; parent=&quot;build-container&quot;&gt;&lt;mxGeometry x=&quot;110&quot; y=&quot;160&quot; width=&quot;160&quot; height=&quot;100&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;runtime-image&quot; value=&quot;Production Container&lt;br&gt;API + Client files&lt;br&gt;Ready for deployment&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;&quot; vertex=&quot;1&quot; parent=&quot;stage3-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;30&quot; width=&quot;120&quot; height=&quot;50&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;deploy-container&quot; value=&quot;🚀 Deployment Process&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0288d1;fontStyle=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;820&quot; y=&quot;220&quot; width=&quot;300&quot; height=&quot;200&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;fly-toml&quot; value=&quot;fly.toml&lt;br&gt;App configuration&lt;br&gt;Regions, scaling&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0288d1;&quot; vertex=&quot;1&quot; parent=&quot;deploy-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;40&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;dockerfile&quot; value=&quot;Dockerfile&lt;br&gt;Multi-stage build&lt;br&gt;Container definition&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0288d1;&quot; vertex=&quot;1&quot; parent=&quot;deploy-container&quot;&gt;&lt;mxGeometry x=&quot;140&quot; y=&quot;40&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;fly-deploy&quot; value=&quot;fly deploy&lt;br&gt;Deploy command&lt;br&gt;Builds &amp;amp; pushes&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0288d1;&quot; vertex=&quot;1&quot; parent=&quot;deploy-container&quot;&gt;&lt;mxGeometry x=&quot;80&quot; y=&quot;120&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;prod-container&quot; value=&quot;☁️ Production Deployment&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#388e3c;fontStyle=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;380&quot; y=&quot;540&quot; width=&quot;740&quot; height=&quot;200&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;kestrel-server&quot; value=&quot;HTTPS Web Server&lt;br&gt;Can serve Static files + JSON data&lt;br&gt;Contains secrets&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#388e3c;&quot; vertex=&quot;1&quot; parent=&quot;prod-container&quot;&gt;&lt;mxGeometry x=&quot;40&quot; y=&quot;40&quot; width=&quot;200&quot; height=&quot;80&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;responses-container&quot; value=&quot;📤 Server Responses&quot; style=&quot;swimlane;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;&quot; vertex=&quot;1&quot; parent=&quot;prod-container&quot;&gt;&lt;mxGeometry x=&quot;280&quot; y=&quot;40&quot; width=&quot;440&quot; height=&quot;140&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;api-json&quot; value=&quot;API JSON Data&lt;br&gt;Task lists, user data&lt;br&gt;Business logic results&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;&quot; vertex=&quot;1&quot; parent=&quot;responses-container&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;30&quot; width=&quot;120&quot; height=&quot;80&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;static-files&quot; value=&quot;Static Files&lt;br&gt;HTML, CSS, JS&lt;br&gt;React application&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;&quot; vertex=&quot;1&quot; parent=&quot;responses-container&quot;&gt;&lt;mxGeometry x=&quot;160&quot; y=&quot;30&quot; width=&quot;120&quot; height=&quot;80&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;spa-fallback&quot; value=&quot;SPA Fallback&lt;br&gt;index.html&lt;br&gt;For client-side routing&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;&quot; vertex=&quot;1&quot; parent=&quot;responses-container&quot;&gt;&lt;mxGeometry x=&quot;300&quot; y=&quot;30&quot; width=&quot;120&quot; height=&quot;80&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;browser&quot; value=&quot;🌐 Web Browser&lt;br&gt;User makes requests&lt;br&gt;Renders React UI&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;40&quot; y=&quot;540&quot; width=&quot;200&quot; height=&quot;80&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;database&quot; value=&quot;🗄️ PostgreSQL Database&lt;br&gt;Persistent storage&lt;br&gt;User data &amp;amp; tasks&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#37474f;strokeColor=#263238;fontColor=#ffffff;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;40&quot; y=&quot;680&quot; width=&quot;200&quot; height=&quot;80&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge1&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;client-src&quot; target=&quot;react-dev&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge2&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;server-src&quot; target=&quot;dotnet-dev&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge3&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;client-src&quot; target=&quot;node-build&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge4&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;server-src&quot; target=&quot;dotnet-build&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge5&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;node-build&quot; target=&quot;runtime-image&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge6&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;dotnet-build&quot; target=&quot;runtime-image&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge7&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;runtime-image&quot; target=&quot;fly-deploy&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge8&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;fly-toml&quot; target=&quot;fly-deploy&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge9&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;dockerfile&quot; target=&quot;fly-deploy&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge10&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;fly-deploy&quot; target=&quot;kestrel-server&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge11&quot; value=&quot;🌍 Production&lt;br&gt;HTTPS Public Endpoint&lt;br&gt;(JSON API / Static Files / SPA Fallback)&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;browser&quot; target=&quot;kestrel-server&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge12&quot; value=&quot;🔧 Development&lt;br&gt;localhost:5173 (Vite)&lt;br&gt;localhost:5000 (API)&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;browser&quot; target=&quot;react-dev&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge13&quot; value=&quot;🔧 Development&lt;br&gt;localhost:5000 (API + Static)&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;browser&quot; target=&quot;dotnet-dev&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge14&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;kestrel-server&quot; target=&quot;database&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;edge15&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;dotnet-dev&quot; target=&quot;database&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;610&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxFile&gt;">
<defs/>
<g>
  <!-- Title -->
  <text x="600" y="30" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="16px" font-weight="bold" text-anchor="middle">Deployment Architecture - Full Stack React + .NET App</text>
  
  <!-- Development Environment Container -->
  <rect x="40" y="60" width="300" height="120" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="50" y="80" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" font-weight="bold">🛠️ Development Environment</text>
  
  <!-- React Dev Server -->
  <rect x="60" y="100" width="120" height="60" fill="#e3f2fd" stroke="#1976d2" rx="5"/>
  <text x="120" y="120" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">React Dev Server</text>
  <text x="120" y="135" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">npm run dev</text>
  <text x="120" y="150" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">localhost:5173</text>
  
  <!-- .NET Dev Server -->
  <rect x="200" y="100" width="120" height="60" fill="#e3f2fd" stroke="#1976d2" rx="5"/>
  <text x="260" y="115" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">.NET Dev Server</text>
  <text x="260" y="130" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">dotnet run</text>
  <text x="260" y="145" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">localhost:5000</text>
  
  <!-- Source Code Container -->
  <rect x="40" y="220" width="300" height="120" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="50" y="240" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" font-weight="bold">📁 Source Code</text>
  
  <!-- Client Source -->
  <rect x="60" y="260" width="120" height="60" fill="#f3e5f5" stroke="#7b1fa2" rx="5"/>
  <text x="120" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Client Code</text>
  <text x="120" y="295" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Vite application</text>
  
  <!-- Server Source -->
  <rect x="200" y="260" width="120" height="60" fill="#f3e5f5" stroke="#7b1fa2" rx="5"/>
  <text x="260" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Server Code</text>
  <text x="260" y="295" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">.NET 9 API</text>
  
  <!-- Docker Build Process Container -->
  <rect x="380" y="220" width="400" height="280" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
  <text x="390" y="240" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" font-weight="bold">🏗️ Docker Build Process</text>
  
  <!-- Stage 1: Client Build -->
  <rect x="400" y="260" width="160" height="100" fill="#fff3e0" stroke="#f57c00"/>
  <text x="410" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" font-weight="bold">Stage 1: Client Build</text>
  <rect x="420" y="290" width="120" height="50" fill="#fff3e0" stroke="#f57c00" rx="3"/>
  <text x="480" y="310" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Node.js Alpine</text>
  <text x="480" y="325" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">npm run build</text>
  
  <!-- Stage 2: Server Build -->
  <rect x="580" y="260" width="160" height="100" fill="#fff3e0" stroke="#f57c00"/>
  <text x="590" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" font-weight="bold">Stage 2: Server Build</text>
  <rect x="600" y="290" width="120" height="50" fill="#fff3e0" stroke="#f57c00" rx="3"/>
  <text x="660" y="310" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">.NET SDK Alpine</text>
  <text x="660" y="325" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">dotnet publish</text>
  
  <!-- Stage 3: Runtime Image -->
  <rect x="490" y="380" width="160" height="100" fill="#fff3e0" stroke="#f57c00"/>
  <text x="500" y="400" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" font-weight="bold">Stage 3: Runtime Image</text>
  <rect x="510" y="410" width="120" height="50" fill="#fff3e0" stroke="#f57c00" rx="3"/>
  <text x="570" y="430" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Production Container</text>
  <text x="570" y="445" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">API + Client files</text>
  
  <!-- Deployment Process Container -->
  <rect x="820" y="220" width="300" height="200" fill="#e1f5fe" stroke="#0288d1" stroke-width="2"/>
  <text x="830" y="240" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" font-weight="bold">🚀 Deployment Process</text>
  
  <!-- fly.toml -->
  <rect x="840" y="260" width="100" height="60" fill="#e1f5fe" stroke="#0288d1" rx="3"/>
  <text x="890" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">fly.toml</text>
  <text x="890" y="295" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">Configuration</text>
  
  <!-- Dockerfile -->
  <rect x="960" y="260" width="100" height="60" fill="#e1f5fe" stroke="#0288d1" rx="3"/>
  <text x="1010" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Dockerfile</text>
  <text x="1010" y="295" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">Build definition</text>
  
  <!-- fly deploy -->
  <rect x="900" y="340" width="120" height="60" fill="#e1f5fe" stroke="#0288d1" rx="3"/>
  <text x="960" y="365" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">fly deploy</text>
  <text x="960" y="380" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">Deploy command</text>
  
  <!-- Production Deployment Container -->
  <rect x="380" y="540" width="740" height="200" fill="#e8f5e8" stroke="#388e3c" stroke-width="2"/>
  <text x="390" y="560" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" font-weight="bold">☁️ Production Deployment</text>
  
  <!-- Kestrel Server -->
  <rect x="420" y="580" width="200" height="80" fill="#e8f5e8" stroke="#388e3c" rx="5"/>
  <text x="520" y="605" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">HTTPS Web Server</text>
  <text x="520" y="620" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Serves Static + API</text>
  <text x="520" y="635" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Contains secrets</text>
  
  <!-- Server Responses -->
  <rect x="680" y="580" width="120" height="60" fill="#f1f8e9" stroke="#558b2f" rx="3"/>
  <text x="740" y="605" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">API JSON Data</text>
  <text x="740" y="620" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">Business logic</text>
  
  <rect x="820" y="580" width="120" height="60" fill="#f1f8e9" stroke="#558b2f" rx="3"/>
  <text x="880" y="605" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Static Files</text>
  <text x="880" y="620" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">React app</text>
  
  <rect x="960" y="580" width="120" height="60" fill="#f1f8e9" stroke="#558b2f" rx="3"/>
  <text x="1020" y="605" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">SPA Fallback</text>
  <text x="1020" y="620" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">index.html</text>
  
  <!-- Browser -->
  <rect x="40" y="540" width="200" height="80" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
  <text x="140" y="570" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">🌐 Web Browser</text>
  <text x="140" y="585" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">User makes requests</text>
  <text x="140" y="600" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">Renders React UI</text>
  
  <!-- Database -->
  <rect x="40" y="680" width="200" height="80" fill="#37474f" stroke="#263238" stroke-width="3" rx="5"/>
  <text x="140" y="710" fill="rgb(255, 255, 255)" font-family="Helvetica" font-size="11px" text-anchor="middle">🗄️ PostgreSQL Database</text>
  <text x="140" y="725" fill="rgb(255, 255, 255)" font-family="Helvetica" font-size="9px" text-anchor="middle">Persistent storage</text>
  <text x="140" y="740" fill="rgb(255, 255, 255)" font-family="Helvetica" font-size="9px" text-anchor="middle">User data &amp; tasks</text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="rgb(0, 0, 0)"/>
    </marker>
  </defs>
  
  <!-- Arrows -->
  <!-- Source to Dev -->
  <path d="M 120 320 L 120 160" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 260 320 L 260 160" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Source to Build -->
  <path d="M 180 290 L 480 315" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 320 290 L 660 315" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Build stages to runtime -->
  <path d="M 480 340 L 570 380" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 660 340 L 570 380" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Runtime to deploy -->
  <path d="M 630 435 L 900 365" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Config files to deploy -->
  <path d="M 890 320 L 950 350" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 1010 320 L 970 350" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Deploy to production -->
  <path d="M 960 400 L 520 580" fill="none" stroke="rgb(0, 0, 0)" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Browser to production -->
  <path d="M 240 580 L 420 620" fill="none" stroke="rgb(0, 0, 0)" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="330" y="590" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">🌍 HTTPS Public</text>
  <text x="330" y="605" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px" text-anchor="middle">(API / Static / SPA)</text>
  
  <!-- Browser to dev (dashed) -->
  <path d="M 120 540 L 120 160" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)"/>
  <text x="80" y="350" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px">🔧 Dev</text>
  <text x="80" y="365" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">localhost:5173</text>
  
  <path d="M 180 540 L 260 160" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)"/>
  <text x="220" y="350" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="9px">🔧 Dev</text>
  <text x="220" y="365" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">localhost:5000</text>
  
  <!-- Database connections -->
  <path d="M 480 660 L 140 680" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 260 160 L 140 680" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" marker-end="url(#arrow)"/>
</g>
</svg>